{% extends 'base.html' %}

{% block header %}
    {% block title %}Live{% endblock %}
{% endblock %}

{% block content %}
    <div class="w3-row w3-border">
        <div class="w3-half">
            <img src="{{ url_for('home.video_feed') }}" class="w3-image">
        </div>
        <div class="w3-container w3-half">
        {% if not cc.hasFocus %}
            <div>
                <form method="post" action="{{ url_for('home.focus_control') }}">
                    <label for="afmode">Autofocus Mode:</label><br>
                    <select name="afmode" id="afmode">
                        {% if cc.afMode == 0 %}
                            <option value="0" selected>Manual</option>
                        {% else %}
                            <option value="0">Manual</option>
                        {% endif %}
                        {% if cc.afMode == 1 %}
                            <option value="1" selected>Auto</option>
                        {% else %}
                            <option value="1">Auto</option>
                        {% endif %}
                        {% if cc.afMode == 2 %}
                            <option value="2" selected>Continuous</option>
                        {% else %}
                            <option value="2">Continuous</option>
                        {% endif %}
                    </select>
                    <label for="fdist">Focal Distance [m]:</label>
                    <input type="number" id="fdist" name="fdist" min="0.01" max="999" step="0.01" value={{ cc.focalDistance }}>
                </form>
            </div>
        {% endif %}
        </div>
    </div>
    <div class="w3-row w3-border">
        <div class="w3-half">
            <p> </p>
            <form class="w3-container" method="post" action="{{ url_for('home.take_image') }}">
                <label for="filepath">File Path</label>
                <input class="w3-input" name="filepath" id="filepath" value = "{{ ip }}">
                <p></p>
                <label for="filename">File Name (leave empty for automatic naming)</label>
                <input class="w3-input" name="filename" id="filename">
                <p></p>
                <input class="w3-button w3-black" type="submit" value="Photo">
            </form>
        </div>
        <div class="w3-half">
            <p></p>
        </div>
    </div>
{% endblock %}