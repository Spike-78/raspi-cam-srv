{% extends 'base.html' %}

{% block header %}
    {% block title %}Images{% endblock %}
{% endblock %}

{% block content %}
<h3>Images</h3>
<div class="w3-row">
    <!-- Images and Videos -->
    <div class="w3-quarter">
        <!-- Overview tab-->
        <table>
            {% for entry in dl %}
            {% set url=url_for('static', filename=entry['path']) %}
            {% set file=entry['file'] %}
            {% set name=entry['name'] %}
            <tr>
                <td style="width: 10%">
                </td>
                <td style="width: 90%">
                    <div class="w3-display-container w3-text-white">
                        <img 
                            src="{{ url }}" 
                            alt="{{ entry['name'] }}" style="width:100%"
                            onclick="showDetail('{{ url }}', 'detailphoto', 'detailsubtext', '{{ file }}', '{{ name }}')"
                        >
                        <div class="w3-display-bottommiddle w3-container"><p>{{ entry['file'] }}</p></div>
                    </div>
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>
    <div class="w3-threequarter">
        <!-- Detail-->
        <div class="w3-container w3-center">
            <img style="width: 100%" id="detailphoto" src="" class="w3-border w3-padding" alt="">
            <p id="detailsubtext"></p>
        </div>

    </div>
</div>
<div class="w3-row">
    <!-- Pagination -->
</div>
<div class="w3-row">
    <!-- Actions -->
</div>
<script>
    function showDetail(url, tgtPhoto, tgtSubtext, file, name) {
        var tgtP = document.getElementById(tgtPhoto);
        tgtP.src = url
        tgtP.alt = name
        var tgtS = document.getElementById(tgtSubtext);
        tgtS.innerHTML = file
    }
</script>

{% endblock %}