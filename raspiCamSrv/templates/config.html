{% macro config(cfgId) %}
        <div>
            <form method="post" action="{{ url_for('config.liveViewCfg') }}">
                <table class="w3-table-all">
                    <tr>
                        <td style="width:5%">
                        </td>
                        <td class="w3-tooltip">
                            <span style="position:absolute;left:0;bottom:30px" class="w3-text w3-tag">
                                This is the unique ID of the configuration. It is only used to distinguish
                                different configuration sets within this application. 
                                It is not relevant for the camera system.
                            </span>
                            <label for="{{ cfgId }}_id">ID:</label>
                        </td>
                        <td colspan="2">
                            <input id="{{ cfgId }}_id" name="{{ cfgId }}_id" value="{{ cfg.id }}" disabled>
                        </td>
                        <td style="width:50%">
                        </td>
                    </tr>
                    <tr>
                        <td style="width:5%">
                        </td>
                        <td class="w3-tooltip">
                            <span style="position:absolute;left:0;bottom:30px" class="w3-text w3-tag">
                                Usecase for this configuration.
                            </span>
                            <label for="{{ cfgId }}_use_case">Use Case:</label>
                        </td>
                        <td colspan="2">
                            <input id="{{ cfgId }}_use_case" name="{{ cfgId }}_use_case" value="{{ cfg.use_case }}" disabled>
                        </td>
                        <td style="width:50%">
                        </td>
                    </tr>
                    <tr>
                        <td style="width:5%">
                        </td>
                        <td class="w3-tooltip">
                            <span style="position:absolute;left:0;bottom:30px" class="w3-text w3-tag">
                                Whether camera images are horizontally or vertically mirrored, 
                                or both (giving a 180 degree rotation).
                            </span>
                            <label for="{{ cfgId }}_transform_hflip">Transform (flip ↔ or ↕ ):</label>
                        </td>
                        <td style="width:5%">
                            ↔
                            {% if cfg.transform_hflip == true %}
                            <input type="checkbox" id="{{ cfgId }}_transform_hflip" name="{{ cfgId }}_transform_hflip" value="1" checked>
                            {% else %}
                            <input type="checkbox" id="{{ cfgId }}_transform_hflip" name="{{ cfgId }}_transform_hflip" value="0">
                            {% endif %}
                        </td>
                        <td style="width:5%">
                            ↕
                            {% if cfg.transform_vflip == true %}
                            <input type="checkbox" id="{{ cfgId }}_transform_vflip" name="{{ cfgId }}_transform_vflip" value="1" checked>
                            {% else %}
                            <input type="checkbox" id="{{ cfgId }}_transform_vflip" name="{{ cfgId }}_transform_vflip" value="0">
                            {% endif %}
                        </td>
                        <td style="width:50%">
                        </td>
                    </tr>
                    <tr>
                        <td style="width:5%">
                        </td>
                        <td class="w3-tooltip">
                            <span style="position:absolute;left:0;bottom:30px" class="w3-text w3-tag">
                                The colour space of the output images. 
                                The main and lores streams must always share the same colour space.
                                The raw stream is always in a camera-specific colour space.
                            </span>
                            <label for="{{ cfgId }}_colour_space">Colour Space:</label>
                        </td>
                        <td colspan="2">
                            <select name="{{ cfgId }}_colour_space" id="{{ cfgId }}_colour_space">
                                {% if cfg.colour_space == "sYCC" %}
                                <option value="sYCC" selected>sYCC</option>
                                {% else %}
                                <option value="sYCC">sYCC</option>
                                {% endif %}
                                {% if cfg.colour_space == "Smpte170m" %}
                                <option value="Smpte170m" selected>Smpte170m</option>
                                {% else %}
                                <option value="Smpte170m">Smpte170m</option>
                                {% endif %}
                                {% if cfg.colour_space == "Rec709" %}
                                <option value="Rec709" selected>Rec709</option>
                                {% else %}
                                <option value="Rec709">Rec709</option>
                                {% endif %}
                            </select>
                        </td>
                        <td style="width:50%">
                        </td>
                    </tr>
                    <tr>
                        <td style="width:5%">
                        </td>
                        <td class="w3-tooltip">
                            <span style="position:absolute;left:0;bottom:30px" class="w3-text w3-tag">
                                the number of sets of buffers to allocate for the camera system. 
                                A single set of buffers represents
                                one buffer for each of the streams that have been requested.
                            </span>
                            <label for="{{ cfgId }}_buffer_count">Buffer Count:</label>
                        </td>
                        <td colspan="2">
                            <input type="number" id="{{ cfgId }}_buffer_count" name="{{ cfgId }}_buffer_count" min="1" max="6" value="{{ cfg.buffer_count }}">
                        </td>
                        <td style="width:50%">
                        </td>
                    </tr>
                    <tr>
                        <td style="width:5%">
                        </td>
                        <td class="w3-tooltip">
                            <span style="position:absolute;left:0;bottom:30px" class="w3-text w3-tag">
                                Whether the system is allowed to queue up a frame 
                                ready for a capture request.
                            </span>
                            <label for="{{ cfgId }}_queue">Queue:</label>
                        </td>
                        <td colspan="2">
                            {% if cfg.queue == True %}
                            <input type="checkbox" id="{{ cfgId }}_queue" name="{{ cfgId }}_queue" value="1" checked>
                            {% else %}
                            <input type="checkbox" id="{{ cfgId }}_queue" name="{{ cfgId }}_queue" value="0">
                            {% endif %}
                        </td>
                        <td style="width:50%">
                        </td>
                    </tr>
                    <tr>
                        <td style="width:5%">
                            <!-- This cell is used to store an invisible list of sensor mode data -->
                            {% for mode in sm %}
                            <p id="sensormode_ref{{ mode.id }}" style="display:none">Size: {{ mode.size }} FPS: {{ mode.fps }} Bit Depth: {{ mode.bit_depth }}</p>
                            {% endfor%}
                        </td>
                        <td class="w3-tooltip">
                            <span style="position:absolute;left:0;bottom:30px" class="w3-text w3-tag">
                                Sensor Mode to be used in this configuration<br>
                                For details, see the available Sensor Modos under 'Info'
                            </span>
                            <label for="{{ cfgId }}_sensor_mode">Sensor Mode:</label>
                        </td>
                        <td colspan="2">
                            <select name="{{ cfgId }}_sensor_mode" id="{{ cfgId }}_sensor_mode" onchange="sensorModeChanged('{{ cfgId }}_sensor_mode', '{{ cfgId }}_sensor_mode_data')">
                                {% for mode in sm %}
                                {% if cfg.sensor_mode == mode.id %}
                                <option value="{{ mode.id }}" selected>Sensor Mode {{ mode.id }}</option>
                                {% else %}
                                <option value="{{ mode.id }}">Sensor Mode {{ mode.id }}</option>
                                {% endif %}
                                {% endfor%}
                            </select>
                        </td>
                        <td style="width:50%" id="{{ cfgId }}_sensor_mode_data">
                            {% for mode in sm %}
                            {% if cfg.sensor_mode == mode.id %}
                            Size: {{ mode.size }} FPS: {{ mode.fps }} Bit Depth: {{ mode.bit_depth }}
                            {% endif %}
                            {% endfor%}
                        </td>
                    </tr>
                    <tr>
                        <td style="width:5%">
                        </td>
                        <td class="w3-tooltip">
                            <span style="position:absolute;left:0;bottom:30px" class="w3-text w3-tag">
                                Camera stream to use
                            </span>
                            <label for="{{ cfgId }}_stream">Stream:</label>
                        </td>
                        <td colspan="2">
                            <select name="{{ cfgId }}_stream" id="{{ cfgId }}_stream">
                                {% if cfg.stream == "main" %}
                                <option value="main" selected>main</option>
                                {% else %}
                                <option value="main">main</option>
                                {% endif %}
                                {% if cfg.stream == "lores" %}
                                <option value="lores" selected>lores</option>
                                {% else %}
                                <option value="lores">lores</option>
                                {% endif %}
                                {% if cfg.stream == "raw" %}
                                <option value="raw" selected>raw</option>
                                {% else %}
                                <option value="raw">raw</option>
                                {% endif %}
                            </select>
                        </td>
                        <td style="width:50%">
                        </td>
                    </tr>
                    <tr>
                        <td style="width:5%">
                        </td>
                        <td class="w3-tooltip">
                            <span style="position:absolute;left:0;bottom:30px" class="w3-text w3-tag">
                                Image format to be used
                            </span>
                            <label for="{{ cfgId }}_format">Fornat:</label>
                        </td>
                        <td colspan="2">
                            <select name="{{ cfgId }}_format" id="{{ cfgId }}_format">
                                {% if cfg.format == "XBGR8888" %}
                                <option value="XBGR8888" selected>XBGR8888</option>
                                {% else %}
                                <option value="XBGR8888">XBGR8888</option>
                                {% endif %}
                                {% if cfg.format == "XRGB8888" %}
                                <option value="XRGB8888" selected>XRGB8888</option>
                                {% else %}
                                <option value="XRGB8888">XRGB8888</option>
                                {% endif %}
                                {% if cfg.format == "RGB888" %}
                                <option value="RGB888" selected>RGB888</option>
                                {% else %}
                                <option value="RGB888">RGB888</option>
                                {% endif %}
                                {% if cfg.format == "BGR888" %}
                                <option value="BGR888" selected>BGR888</option>
                                {% else %}
                                <option value="BGR888">BGR888</option>
                                {% endif %}
                                {% if cfg.format == "YUV420" %}
                                <option value="YUV420" selected>YUV420</option>
                                {% else %}
                                <option value="YUV420">YUV420</option>
                                {% endif %}
                            </select>
                        </td>
                        <td style="width:50%">
                        </td>
                    </tr>
                    <tr>
                        <td style="width:5%">
                        </td>
                        <td class="w3-tooltip">
                            <span style="position:absolute;left:0;bottom:30px" class="w3-text w3-tag">
                                This names which (if any) of the camera streams are to be shown in the preview window. <br>
                                Note: Preview view is not used within this applacation.
                            </span>
                            <label for="{{ cfgId }}_display">Display:</label>
                        </td>
                        <td colspan="2">
                            <input id="{{ cfgId }}_display" name="{{ cfgId }}_display" value="{{ cfg.display }}" disabled>
                        </td>
                        <td style="width:50%">
                        </td>
                    </tr>
                    <tr>
                        <td style="width:5%">
                        </td>
                        <td class="w3-tooltip">
                            <span style="position:absolute;left:0;bottom:30px" class="w3-text w3-tag">
                                This names which (if any) of the streams are to be encoded if a video recording is started. 
                            </span>
                            <label for="{{ cfgId }}_encode">Encode:</label>
                        </td>
                        <td colspan="2">
                            <input id="{{ cfgId }}_encode" name="{{ cfgId }}_encode" value="{{ cfg.encode }}" disabled>
                        </td>
                        <td style="width:50%">
                        </td>
                    </tr>
                    <tr>
                        <td colspan="5">
                            Controls included in Configuration
                        </td>
                    </tr>
                    {% for ctrl_key, ctrl_value in cfg.controls.items() %}
                    <tr>
                        <td style="width:5%">
                        </td>
                        <td class="w3-tooltip">
                            <label for="{{ cfgId }}_display">{{ ctrl_key }}:</label>
                        </td>
                        <td colspan="2">
                            <input id="{{ cfgId }}_display" name="{{ cfgId }}_display" value="{{ ctrl_value }}" disabled>
                        </td>
                        <td style="width:50%">
                        </td>
                    </tr>
                    {% endfor%}
                </table>
                <p style="margin-bottom: 0"></p>
                <input class="w3-button w3-black" type="submit" value="Submit & Apply">
            </form>
        </div>
{% endmacro %}